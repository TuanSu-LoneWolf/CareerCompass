<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Compass</title>
    <link rel="icon" href="./img/Logo.svg" type="image/png">
    <link rel="stylesheet" href="style.css"> <!--Liên kết với file Css-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--Đây là dòng giúp kích thước của các phần tử không bị tràn ra khỏi màn hình của các thiết bị nhỏ-->
    <!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <![endif]-->
</head>
<body>
    <header>
        <div class="nav">
            <nav class="nav_pc">
                <img class="nav-logo" src="../Logo.svg"></img>
                <ul class="nav_pc-list">
                    <li class="nav_pc-link"><a href="../index.html">Trang chủ</a></li>
                    <li class="nav_pc-link"><a href="../Học tập/tl.html">Học tập</a></li>
                    <li class="nav_pc-link"><a href="../Test/index.html">Test</a></li>
                    <li class="nav_pc-link"><a href="../Thông tin/post.html">Thông tin</a></li>
                    <li class="nav_pc-link"><a href="../Chatbot Tư vấn Hướng nghiệp/templates/index.html">Tư vấn</a></li>
                    <li class="nav_pc-link"><a href="../interview-main/pv/interview.html">Phỏng vấn</a></li>
                    <li class="nav_pc-link"><a href="../Liên hệ/lienhe.html">Liên hệ</a></li>
                    <li class="nav_pc-link" id="signupLink"><a href="../su&si/su.html">Đăng ký</a></li>
                    <li class="nav_pc-link" id="loginLink"><a href="../su&si/si.html">Đăng nhập</a></li>
                    <li class="nav_pc-link" id="userLogoContainer" style="display: none; position: relative;">
                        <img id="userLogo" src="" alt="User Logo"
                            style="width: 30px; height: 30px; border-radius: 50%; cursor: pointer;">
                        <div id="userMenu">
                            <a href="../Profile/profile.html">Trang cá nhân</a>
                            <button id="logoutBtn">Đăng xuất</button>
                        </div>
                    </li>
                </ul>
            </nav>
            <label class="bar-btn" for="nav_MobileAndTablet-input">
                <img class="nav_bar-btn" src="../image/bar-button.png">
            </label>
            <input type="checkbox" hidden class="nav_input" id="nav_MobileAndTablet-input">
            <label for="nav_MobileAndTablet-input" class="nav_overlay"></label>
            <div class="nav_MobileAndTablet">
                <div class="menu">
                    <img class="nav-logo" src="../Logo.svg"></img>
                    <label class="bar-close" for="nav_MobileAndTablet-input">
                        <img class="nav_bar-close" src="../image/close.png">
                    </label>
                </div>
                <ul class="nav_MobileAndTablet-list">
                    <li class="nav_MobileAndTablet-link"><a href="../index.html">Trang chủ</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Học tập/tl.html">Học tập</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Test/index.html">Test</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Thông tin/index.html">Thông tin</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Chatbot Tư vấn Hướng nghiệp/templates/index.html">Tư vấn</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Chatbot Nhà tuyển dụng/templates/index.html">Phỏng vấn</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Liên hệ/lienhe.html">Liên hệ</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../su&si/su.html">Đăng ký</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../su&si/si.html">Đăng nhập</a></li>
                </ul>
            </div>
        </div>
    </header>

    <script src="https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/1.1.0-beta.0/libs/oversea/index.js"></script>
    <script>
        new CozeWebSDK.WebChatClient({
          config: {
            bot_id: '7424159713736179729',
          },
          componentProps: {
            title: 'Chuyên gia Hướng nghiệp',
          },
        });
    </script>
    <footer>
        <div class="footer-bottom">
            <h3>CAREER COMPASS</h3>
        </div>
        <div class="footer-container">
            <div class="footer-column">
                <img src="../Logo.svg" alt="Logo" class="footer-logo">
            </div>
            <div class="footer-column">
                <h3>Thông tin liên hệ</h3>
                <p>Địa chỉ: 1A Nguyễn Hiến Lê, Phường 13, Tân Bình, Hồ Chí Minh</p>
                <p>Điện thoại: 090 695 0881</p>
                <p>Email: tuansu1561@gmail.com</p>
            </div>
            <div class="footer-column">
                <div class="links">
                    <a href="../../index.html">Trang chủ</a> 
                    <a href="../../Học tập/tl.html">Học tập</a> 
                    <a href="../../Test/MBTI/index.html">Test</a> 
                    <a href="../../Thông tin/post.html">Thông tin</a> 
                    <a href="../../Chatbot Tư vấn Hướng nghiệp/templates/index.html">Tư vấn</a> 
                    <a href="../../Chatbot Nhà tuyển dụng/templates/index.html">Phỏng vấn</a>
                    <a href="../../Liên hệ/lienhe.html">Liên hệ</a>
                </div>  
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright © 2025 CAREER COMPASS. All rights reserved.</p>
        </div>
    </footer>

    
    <script type="module">
        import { auth } from '../auth.js';
        import { signOut } from 'https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js';
    
        document.addEventListener('DOMContentLoaded', () => {
            const signupLink = document.getElementById('signupLink');
            const loginLink = document.getElementById('loginLink');
            const userLogoContainer = document.getElementById('userLogoContainer');
            const userLogo = document.getElementById('userLogo');
            const userMenu = document.getElementById('userMenu');
            const logoutBtn = document.getElementById('logoutBtn');
    
            // Xử lý hiển thị/ẩn menu khi click vào avatar
            if (userLogo && userMenu) {
                userLogo.addEventListener('click', (e) => {
                    e.stopPropagation();
                    userMenu.style.display = userMenu.style.display === 'block' ? 'none' : 'block';
                });
    
                // Ẩn menu khi click ra ngoài
                document.addEventListener('click', () => {
                    userMenu.style.display = 'none';
                });
    
                // Ngăn menu đóng khi click vào menu
                userMenu.addEventListener('click', (e) => {
                    e.stopPropagation();
                });
            }
    
            auth.onAuthStateChanged((user) => {
                if (user) {
                    signupLink.style.display = 'none';
                    loginLink.style.display = 'none';
                    userLogo.src = user.photoURL || './Logo.svg';
                    userLogoContainer.style.display = 'block';
                } else {
                    signupLink.style.display = 'block';
                    loginLink.style.display = 'block';
                    userLogoContainer.style.display = 'none';
                }
            });
    
            // Xử lý đăng xuất
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    signOut(auth).then(() => {
                        console.log('Đăng xuất thành công.');
                    }).catch((error) => {
                        console.error('Lỗi đăng xuất:', error);
                        alert('Đã xảy ra lỗi khi đăng xuất.');
                    });
                });
            }
        });
    </script>

</body>
</html>